(this["webpackJsonpsmarket-events"]=this["webpackJsonpsmarket-events"]||[]).push([[0],{150:function(e,t,a){e.exports=a(282)},155:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),c=a.n(o),s=(a(155),a(147)),l=a(49),i=a(288),u=a(286),p=a(290),m=a(74),_=a(289),d=a(59),h=a(287),b=a(83),g=a.n(b),f=a(101),y=a.n(f),v=a(122),k=["american_football_match","american_football_outright","baseball_match","baseball_outright","basketball_esports_match","basketball_match","boxing_match","call_of_duty_match","cricket_match","cricket_outright","csgo_match","current_affairs","cycling","darts_match","darts_outright","dota_2_match","football_esports_match","football_match","football_outright","golf_match","golf_outright","greyhound_racing_race","handball_match","horse_racing_race","ice_hockey_match","league_of_legends_match","mma_match","motorsports_race","motorsports_outright","politics","politics_outright","rowing","rugby_league_match","rugby_league_outright","rugby_union_match","rugby_union_outright","snooker_match","snooker_outright","table_tennis_match","table_tennis_outright","tennis_match","tennis_outright","volleyball_match","generic","top_level_event","tv_entertainment"],j="https://cors-anywhere.herokuapp.com/https://api.smarkets.com";function O(){return(O=Object(v.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.a.stringify(t),e.abrupt("return",fetch("".concat(j,"/v3/events/?").concat(a),{headers:{Accept:"application/json"}}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){if(void 0===e||null===e)throw new Error(t||'Expected "value" to be defined, but received "'.concat(e,'"'))}var x=a(76),E={state:"upcoming",type:k[0],sort:"display_order,start_datetime,id",limit:20},C={events:null,next:null,params:null,error:null,progress:!1};function W(e,t){switch(t.type){case"started":return!!t.payload.pagination_last_id,Object(l.a)(Object(l.a)({},e),{},{params:t.payload,progress:!0});case"success":w(e.params);var a=!!e.params.pagination_last_id?e.events:[];return w(a),Object(l.a)(Object(l.a)({},e),{},{params:e.params,progress:!1,events:a.concat(t.payload.events),next:t.payload.pagination.next_page,error:null});case"error":return w(e.params),Object(l.a)(Object(l.a)({},e),{},{params:e.params,progress:!1,error:t.payload})}}var M=function(){var e,t=Object(r.useReducer)(W,C),a=Object(s.a)(t,2),o=a[0],c=a[1],b=Object(r.useMemo)((function(){return o.events?o.events.map((function(e){return{key:e.id,name:e.name,date:e.start_datetime}})):[]}),[o.events]),f=Object(r.useCallback)((function(e){c({type:"started",payload:e}),function(e){return O.apply(this,arguments)}(e).then((function(e){if("error_type"in e)throw new Error(e.error_type);c({type:"success",payload:e})})).catch((function(e){c({type:"error",payload:e,error:!0})}))}),[c]),y=Object(r.useCallback)((function(e){return f(Object(l.a)(Object(l.a)({},E),{},{type:e}))}),[f]),v=Object(r.useCallback)((function(){w(o.params),f(o.params)}),[o.params,f]),j=Object(r.useCallback)((function(){w(o.next);var e=o.next.replace("?",""),t=g.a.parse(e);f(t)}),[o.next,f]);return n.a.createElement(p.a,null,n.a.createElement(m.a,{autoFocus:!0,"data-testid":"type-select",disabled:o.progress,value:null===(e=o.params)||void 0===e?void 0:e.type,onChange:y,placeholder:"Plese select event type",className:x.fullWidth},k.map((function(e){return n.a.createElement(m.a.Option,{key:e,value:e},e.replace(/_/g," "))}))),null!==o.error&&n.a.createElement(_.a,{status:"error",subTitle:"Sorry, failed to load events.",className:x.fullWidth,extra:n.a.createElement(d.a,{"data-testid":"retry",disabled:o.progress,type:"primary",onClick:v},"Retry")}),null===o.error&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{className:x.fullWidth,dataSource:b,pagination:!1,columns:[{title:"Event name",dataIndex:"name"},{title:"Start Date",dataIndex:"date",render:function(e){return e?Object(i.a)(Object(u.a)(e),"PPPp"):"-"}}]}),!!o.next&&n.a.createElement(d.a,{"data-testid":"load-more",disabled:o.progress,type:"primary",onClick:j,className:x.loadMore},"Load more")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports={fullWidth:"App_fullWidth__2qOYh",loadMore:"App_loadMore__2ed75"}}},[[150,1,2]]]);
//# sourceMappingURL=main.ff274114.chunk.js.map